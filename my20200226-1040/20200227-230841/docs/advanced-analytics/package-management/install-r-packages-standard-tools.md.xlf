<?xml version="1.0"?><xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd"><file datatype="xml" original="install-r-packages-standard-tools.md" source-language="en-US" target-language="en-US"><header><tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-0c45fb3" tool-company="Microsoft" /><xliffext:skl_file_name xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">9e8b99b7-5dd1-4f94-ba72-fb306822a13c5d7c610f887de137c44f97ca8809e70c548a51db.skl</xliffext:skl_file_name><xliffext:version xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">1.2</xliffext:version><xliffext:ms.openlocfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">5d7c610f887de137c44f97ca8809e70c548a51db</xliffext:ms.openlocfilehash><xliffext:ms.sourcegitcommit xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">9e8b99b7-5dd1-4f94-ba72-fb306822a13c</xliffext:ms.sourcegitcommit><xliffext:ms.lasthandoff xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">02/27/2020</xliffext:ms.lasthandoff><xliffext:ms.openlocfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">docs\advanced-analytics\package-management\install-r-packages-standard-tools.md</xliffext:ms.openlocfilepath></header><body><group id="content" extype="content"><trans-unit id="101" translate="yes" xml:space="preserve" restype="x-metadata">
          <source>Install packages with R tools</source>
        </trans-unit><trans-unit id="102" translate="yes" xml:space="preserve" restype="x-metadata">
          <source>Learn how to use standard R tools to install new R packages to an instance of SQL Server Machine Learning Services or SQL Server R Services.</source>
        </trans-unit><trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Install packages with R tools</source>
        </trans-unit><trans-unit id="104" translate="yes" xml:space="preserve">
          <source>This article describes how to use standard R tools to install new R packages to an instance of SQL Server Machine Learning Services or SQL Server R Services.</source>
        </trans-unit><trans-unit id="105" translate="yes" xml:space="preserve">
          <source>You can install packages on a SQL Server that has an Internet connection, as well as one that is isolated from the Internet.</source>
        </trans-unit><trans-unit id="106" translate="yes" xml:space="preserve">
          <source>In addition to standard R tools, you can install R packages using:</source>
        </trans-unit><trans-unit id="107" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>RevoScaleR<ept id="p1">](install-r-packages-with-revoscaler.md)</ept></source>
        </trans-unit><trans-unit id="108" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source><bpt id="p1">[</bpt>T-SQL<ept id="p1">](install-r-packages-with-tsql.md)</ept> (CREATE EXTERNAL LIBRARY)</source>
        </trans-unit><trans-unit id="109" translate="yes" xml:space="preserve">
          <source>General considerations</source>
        </trans-unit><trans-unit id="110" translate="yes" xml:space="preserve">
          <source>R code running in SQL Server can use only packages installed in the default instance library.</source>
        </trans-unit><trans-unit id="111" translate="yes" xml:space="preserve">
          <source>SQL Server cannot load packages from external libraries, even if that library is on the same computer.</source>
        </trans-unit><trans-unit id="112" translate="yes" xml:space="preserve">
          <source>This includes R libraries installed with other Microsoft products.</source>
        </trans-unit><trans-unit id="113" translate="yes" xml:space="preserve">
          <source>The R package library is located in the Program Files folder of your SQL Server instance and, by default, installing in this folder requires administrator permissions.</source>
        </trans-unit><trans-unit id="114" translate="yes" xml:space="preserve">
          <source>For more information, see <bpt id="p1">[</bpt>Package library location<ept id="p1">](../package-management/r-package-information.md#default-r-library-location)</ept>.</source>
        </trans-unit><trans-unit id="115" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source>Non-administrators can install packages using RevoScaleR 9.0.1 and later, or using CREATE EXTERNAL LIBRARY.</source>
        </trans-unit><trans-unit id="116" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source>The <bpt id="p1">**</bpt>dbo_owner<ept id="p1">**</ept> user, or a user with CREATE EXTERNAL LIBRARY permission, can install R packages to the current database.</source>
        </trans-unit><trans-unit id="117" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source>For more information, see:</source>
        </trans-unit><trans-unit id="118" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source><bpt id="p1">[</bpt>Use RevoScaleR to install R packages<ept id="p1">](install-r-packages-with-revoscaler.md)</ept></source>
        </trans-unit><trans-unit id="119" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source><bpt id="p1">[</bpt>Use T-SQL (CREATE EXTERNAL LIBRARY) to install R packages on SQL Server<ept id="p1">](install-r-packages-with-tsql.md)</ept></source>
        </trans-unit><trans-unit id="120" translate="yes" xml:space="preserve" moniker-range="=sql-server-2016||=sqlallproducts-allversions">
          <source>Non-administrators can install packages using RevoScaleR 9.0.1 and later.</source>
        </trans-unit><trans-unit id="121" translate="yes" xml:space="preserve" moniker-range="=sql-server-2016||=sqlallproducts-allversions">
          <source>The <bpt id="p1">**</bpt>dbo_owner<ept id="p1">**</ept> user can install R packages to the current database.</source>
        </trans-unit><trans-unit id="122" translate="yes" xml:space="preserve" moniker-range="=sql-server-2016||=sqlallproducts-allversions">
          <source>For more information, see, <bpt id="p1">[</bpt>Use RevoScaleR to install R packages<ept id="p1">](install-r-packages-with-revoscaler.md)</ept>.</source>
        </trans-unit><trans-unit id="123" translate="yes" xml:space="preserve">
          <source>On a hardened SQL Server environment, you might want to avoid the following:</source>
        </trans-unit><trans-unit id="124" translate="yes" xml:space="preserve">
          <source>Packages that require network access</source>
        </trans-unit><trans-unit id="125" translate="yes" xml:space="preserve">
          <source>Packages that require elevated file system access</source>
        </trans-unit><trans-unit id="126" translate="yes" xml:space="preserve">
          <source>Packages used for web development or other tasks that don't benefit by running inside SQL Server</source>
        </trans-unit><trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Online installation (with Internet access)</source>
        </trans-unit><trans-unit id="128" translate="yes" xml:space="preserve">
          <source>If the SQL Server has access to the Internet, then you can use standard package installation tools to install R packages.</source>
        </trans-unit><trans-unit id="129" translate="yes" xml:space="preserve">
          <source>Determine the location of the instance library (see <bpt id="p1">[</bpt>Get R package information<ept id="p1">](../package-management/r-package-information.md)</ept>) and navigate to the folder where the R tools are installed.</source>
        </trans-unit><trans-unit id="130" translate="yes" xml:space="preserve" moniker-range="=sql-server-2016||=sqlallproducts-allversions">
          <source>For example the default path for a SQL Server default instance is:</source>
        </trans-unit><trans-unit id="131" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source>For example the default path for a SQL Server default instance is:</source>
        </trans-unit><trans-unit id="132" translate="yes" xml:space="preserve">
          <source>Run <bpt id="p1">**</bpt>R<ept id="p1">**</ept> or <bpt id="p2">**</bpt>Rgui<ept id="p2">**</ept> as administrator from this folder.</source>
        </trans-unit><trans-unit id="133" translate="yes" xml:space="preserve">
          <source>Run the R command <ph id="ph1">`install.packages`</ph> and specify the package name.</source>
        </trans-unit><trans-unit id="134" translate="yes" xml:space="preserve">
          <source>If the package has any dependencies, the installer automatically downloads the dependencies and installs them.</source>
        </trans-unit><trans-unit id="135" translate="yes" xml:space="preserve">
          <source>If you have multiple, side-by-side instances of SQL Server, run the installation separately for each instance in which you want to use the package.</source>
        </trans-unit><trans-unit id="136" translate="yes" xml:space="preserve">
          <source>Packages cannot be shared across instances.</source>
        </trans-unit><trans-unit id="137" translate="yes" xml:space="preserve">
          <source><bpt id="p1">&lt;a name = "bkmk_offlineInstall"&gt;</bpt><ept id="p1">&lt;/a&gt;</ept> Offline installation (no internet access)</source>
        </trans-unit><trans-unit id="138" translate="yes" xml:space="preserve">
          <source>Frequently, servers that host production databases don't have an internet connection.</source>
        </trans-unit><trans-unit id="139" translate="yes" xml:space="preserve">
          <source>To install R packages in that environment, you download and prepare packages and dependencies in advance (as zipped files), and then copy the files to a folder on the server.</source>
        </trans-unit><trans-unit id="140" translate="yes" xml:space="preserve">
          <source>Once the files are in place, the packages can be installed offline.</source>
        </trans-unit><trans-unit id="141" translate="yes" xml:space="preserve">
          <source>Identifying all dependencies gets complicated.</source>
        </trans-unit><trans-unit id="142" translate="yes" xml:space="preserve">
          <source>For R, we recommend that you use <bpt id="p1">[</bpt><bpt id="p2">**</bpt>miniCRAN<ept id="p2">**</ept><ept id="p1">](https://andrie.github.io/miniCRAN/)</ept> to create a local repository.</source>
        </trans-unit><trans-unit id="143" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>miniCRAN<ept id="p1">**</ept> takes a list of packages you want to install, analyzes dependencies, and collects all the necessary zipped files.</source>
        </trans-unit><trans-unit id="144" translate="yes" xml:space="preserve">
          <source>It then creates a single repository that you can copy to the isolated SQL Server instance.</source>
        </trans-unit><trans-unit id="145" translate="yes" xml:space="preserve">
          <source>The <bpt id="p1">[</bpt><bpt id="p2">**</bpt>igraph<ept id="p2">**</ept><ept id="p1">](https://igraph.org/r/)</ept> package is also helpful in analyzing package dependencies.</source>
        </trans-unit><trans-unit id="146" translate="yes" xml:space="preserve">
          <source>For more information, see <bpt id="p1">[</bpt>Create a local R package repository using miniCRAN<ept id="p1">](create-a-local-package-repository-using-minicran.md)</ept>.</source>
        </trans-unit><trans-unit id="147" translate="yes" xml:space="preserve">
          <source>Once the zip file is on the SQL Server instance, you can install it using standard R tools on the server.</source>
        </trans-unit><trans-unit id="148" translate="yes" xml:space="preserve">
          <source>Determine the location of the instance library (see <bpt id="p1">[</bpt>Get R package information<ept id="p1">](../package-management/r-package-information.md)</ept>) and navigate to the folder where the R tools are installed.</source>
        </trans-unit><trans-unit id="149" translate="yes" xml:space="preserve" moniker-range="=sql-server-2016||=sqlallproducts-allversions">
          <source>For example the default path for a SQL Server default instance is:</source>
        </trans-unit><trans-unit id="150" translate="yes" xml:space="preserve" moniker-range="=sql-server-2017||=sqlallproducts-allversions">
          <source>For example the default path for a SQL Server default instance is:</source>
        </trans-unit><trans-unit id="151" translate="yes" xml:space="preserve">
          <source>Run <bpt id="p1">**</bpt>R<ept id="p1">**</ept> or <bpt id="p2">**</bpt>Rgui<ept id="p2">**</ept> as administrator from this folder.</source>
        </trans-unit><trans-unit id="152" translate="yes" xml:space="preserve">
          <source>Run the R command <ph id="ph1">`install.packages`</ph> and specify the package or repository name, and the location of the zipped files.</source>
        </trans-unit><trans-unit id="153" translate="yes" xml:space="preserve">
          <source>For example:</source>
        </trans-unit><trans-unit id="154" translate="yes" xml:space="preserve">
          <source>This command extracts the R package <ph id="ph1">`mynewpackage`</ph> from its local zipped file and installs the package.</source>
        </trans-unit><trans-unit id="155" translate="yes" xml:space="preserve">
          <source>If the package has any dependencies, the installer checks for existing packages in the library.</source>
        </trans-unit><trans-unit id="156" translate="yes" xml:space="preserve">
          <source>If you have created a repository that includes the dependencies, the installer installs the required packages as well.</source>
        </trans-unit><trans-unit id="157" translate="yes" xml:space="preserve">
          <source>If any required packages are not present in the instance library, and cannot be found in the zipped files, installation of the target package fails.</source>
        </trans-unit><trans-unit id="158" translate="yes" xml:space="preserve">
          <source>As an alternative to <bpt id="p1">**</bpt>miniCRAN<ept id="p1">**</ept>, you can perform these steps manually:</source>
        </trans-unit><trans-unit id="159" translate="yes" xml:space="preserve">
          <source>Identify all package dependencies.</source>
        </trans-unit><trans-unit id="160" translate="yes" xml:space="preserve">
          <source>Check whether any required packages are already installed on the server.</source>
        </trans-unit><trans-unit id="161" translate="yes" xml:space="preserve">
          <source>If the package is installed, verify that the version is correct.</source>
        </trans-unit><trans-unit id="162" translate="yes" xml:space="preserve">
          <source>Download the package and all dependencies to a separate computer with Internet access.</source>
        </trans-unit><trans-unit id="163" translate="yes" xml:space="preserve">
          <source>Place the package and dependencies in a single package archive.</source>
        </trans-unit><trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Zip the archive if it's not already in zipped format.</source>
        </trans-unit><trans-unit id="165" translate="yes" xml:space="preserve">
          <source>Move the files to a folder accessible by the server.</source>
        </trans-unit><trans-unit id="166" translate="yes" xml:space="preserve">
          <source>Run a supported installation command or DDL statement to install the package into the instance library.</source>
        </trans-unit><trans-unit id="167" translate="yes" xml:space="preserve">
          <source>See also</source>
        </trans-unit><trans-unit id="168" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Get R package information<ept id="p1">](r-package-information.md)</ept></source>
        </trans-unit><trans-unit id="169" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Tips for using R packages<ept id="p1">](tips-for-using-r-packages.md)</ept></source>
        </trans-unit><trans-unit id="170" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>SQL Server R language tutorials<ept id="p1">](../tutorials/sql-server-r-tutorials.md)</ept></source>
        </trans-unit></group></body></file></xliff>